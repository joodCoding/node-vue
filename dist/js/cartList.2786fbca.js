(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cartList"],{"1e48":function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var o=c("be92");const s=t=>{const e=JSON.stringify(t);localStorage.cartList=e},r=()=>{try{return JSON.parse(localStorage.cartList)}catch(t){return{}}},n=Object(o["b"])("cart",{state:()=>({cartList:{...r()}}),actions:{changeCartItemInfo(t){const{shopId:e,productId:c,productInfo:o,num:r}=t;let n=this.cartList[e]||{shopName:"",productList:{}},a=n.productList[c];a||(o.count=0,a=o),a.count=a.count+r,r>0&&(a.check=!0),a.count<0&&(a.count=0),n.productList[c]=a,this.cartList[e]=n,s(this.cartList)},changeShopName(t){const{shopId:e,shopName:c}=t,o=this.cartList[e]||{shopName:"",productList:{}};o.shopName=c,this.cartList[e]=o,s(this.cartList)},changeCartItemChecked(t){const{shopId:e,productId:c}=t,o=this.cartList[e].productList[c];o.check=!o.check,s(this.cartList)},cleanCartProducts(t){this.cartList[t].productList={},s(this.cartList)},setCartItemsChecked(t){const e=this.cartList[t].productList;if(e)for(let c in e){const t=e[c];t.check=!0}s(this.cartList)},clearCartData(t){this.cartList[t].productList={},s(this.cartList)}}})},3104:function(t,e,c){"use strict";c("c491")},"3c1d":function(t,e,c){"use strict";var o=c("7a23");const s={class:"docker"},r=["innerHTML"],n={class:"docker__title"};function a(t,e,c,a,i,l){const d=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(a.dockerList,(t,e)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])({docker__item:!0,"docker__item--active":e===c.currentIndex}),key:t.icon},[Object(o["createVNode"])(d,{to:t.to},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",{class:"iconfont",innerHTML:t.icon},null,8,r),Object(o["createElementVNode"])("div",n,Object(o["toDisplayString"])(t.text),1)]),_:2},1032,["to"])],2))),128))])}var i={name:"Docker",props:["currentIndex"],setup(){const t=[{icon:"&#xe6f3;",text:"首页",to:{name:"Home"}},{icon:"&#xe7e5;",text:"购物车",to:{name:"CartList"}},{icon:"&#xe61e;",text:"订单",to:{name:"OrderList"}},{icon:"&#xe660;",text:"我的",to:{name:"PersonalInfo"}}];return{dockerList:t}}},l=(c("3104"),c("6b0d")),d=c.n(l);const u=d()(i,[["render",a],["__scopeId","data-v-35ff7262"]]);e["a"]=u},"45a7":function(t,e,c){"use strict";c.r(e);var o=c("7a23");const s={class:"wrapper"},r={class:"shops"},n={key:0,class:"empty"},a={class:"shop__title"},i={class:"products"},l={class:"products__list"},d={key:0,class:"products__item"},u=["src"],p={class:"products__item__detail"},m={class:"products__item__title"},b={class:"products__item__price"},O={class:"products__item__total"};function j(t,e,c,j,h,_){const k=Object(o["resolveComponent"])("Docker");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("div",s,[e[2]||(e[2]=Object(o["createElementVNode"])("div",{class:"title"},"我的全部购物车",-1)),Object(o["createElementVNode"])("div",r,[0===Object.keys(j.cartListWithProducts).length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",n,"购物车当前为空")):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(j.cartListWithProducts,(t,c)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"shop",key:c},[Object(o["createElementVNode"])("div",a,Object(o["toDisplayString"])(t.shopName),1),Object(o["createElementVNode"])("div",i,[Object(o["createElementVNode"])("div",l,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.productList,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t.id},[t.count>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[Object(o["createElementVNode"])("img",{class:"products__item__img",src:t.imgUrl},null,8,u),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("h4",m,Object(o["toDisplayString"])(t.name),1),Object(o["createElementVNode"])("p",b,[Object(o["createElementVNode"])("span",null,[e[0]||(e[0]=Object(o["createElementVNode"])("span",{class:"products__item__yen"},"¥ ",-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(t.price)+" x "+Object(o["toDisplayString"])(t.count),1)]),Object(o["createElementVNode"])("span",O,[e[1]||(e[1]=Object(o["createElementVNode"])("span",{class:"products__item__yen"},"¥ ",-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])((t.price*t.count).toFixed(2)),1)])])])])):Object(o["createCommentVNode"])("",!0)],64))),128))])])]))),128))])]),Object(o["createVNode"])(k,{currentIndex:1})],64)}var h=c("1e48"),_=c("3c1d");const k=()=>{const t=Object(h["a"])(),e=t.cartList,c=Object(o["computed"])(()=>{const t={};for(let c in e){let o=0;const s=e[c].productList;for(let t in s){const e=s[t];o+=e.count||0}o>0&&(t[c]=e[c])}return t});return{cartListWithProducts:c}};var L={name:"CartList",components:{Docker:_["a"]},setup(){const{cartListWithProducts:t}=k();return{cartListWithProducts:t}}},N=(c("e328"),c("6b0d")),f=c.n(N);const E=f()(L,[["render",j],["__scopeId","data-v-1dd2d9c6"]]);e["default"]=E},"4f1d":function(t,e,c){},c491:function(t,e,c){},e328:function(t,e,c){"use strict";c("4f1d")}}]);
//# sourceMappingURL=cartList.2786fbca.js.map