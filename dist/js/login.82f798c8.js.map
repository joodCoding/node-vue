{"version":3,"sources":["webpack:///./src/components/Toast.vue?43cb","webpack:///./src/components/Toast.vue","webpack:///./src/components/Toast.vue?329c","webpack:///./node_modules/core-js/modules/es.array.push.js","webpack:///./src/views/login/Login.vue?e6e4","webpack:///./node_modules/core-js/internals/does-not-exceed-safe-integer.js","webpack:///./node_modules/core-js/internals/array-set-length.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./src/views/login/Login.vue","webpack:///./src/views/login/Login.vue?9c35"],"names":["class","_createElementBlock","_hoisted_1","_toDisplayString","$props","message","props","useToastEffect","toastData","reactive","show","toastMessage","showToast","setTimeout","toRefs","__exports__","render","$","toObject","lengthOfArrayLike","setArrayLength","doesNotExceedSafeInteger","fails","INCORRECT_TO_LENGTH","push","call","length","properErrorOnNonWritableLength","Object","defineProperty","writable","error","TypeError","FORCED","target","proto","arity","forced","item","O","this","len","argCount","arguments","i","$TypeError","MAX_SAFE_INTEGER","module","exports","it","DESCRIPTORS","isArray","getOwnPropertyDescriptor","SILENT_ON_NON_WRITABLE_LENGTH_SET","undefined","classof","Array","argument","_createElementVNode","src","_hoisted_2","placeholder","$setup","username","$event","_hoisted_3","type","password","autocomplete","onClick","_cache","args","handleLogin","handleRegisterClick","_createBlock","_component_Toast","useLoginEffect","router","useRouter","userStore","useUserStore","data","async","result","post","errno","console","log","login","token","name","e","useRegisterEffect","components","Toast","setup"],"mappings":"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","file":"js/login.82f798c8.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Toast.vue?vue&type=style&index=0&id=f37fdc6a&lang=scss&scoped=true\"","<template>\n  <div class=\"toast\">{{message}}</div>\n</template>\n\n<script>\nimport { reactive, toRefs } from 'vue'\n\nexport default {\n  props: ['message']\n}\n\nexport const useToastEffect = () => {\n  \n  const toastData = reactive({\n    show: false,\n    toastMessage: ''\n  })\n\n  const showToast = (message) => {\n    toastData.show = true\n    toastData.toastMessage = message\n    setTimeout(() => {\n      toastData.show = false\n      toastData.toastMessage = ''\n    }, 2000)\n  }\n\n  const { show, toastMessage } = toRefs(toastData)\n  \n  return { show, toastMessage, showToast }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../style/viriables.scss';\n.toast {\n  position: fixed;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  padding: .1rem;\n  background: rgba(0, 0, 0, .35);\n  border-radius: .05rem;\n  color: $bgColor;\n}\n</style>\n","import { render } from \"./Toast.vue?vue&type=template&id=f37fdc6a&scoped=true\"\nimport script from \"./Toast.vue?vue&type=script&lang=js\"\nexport * from \"./Toast.vue?vue&type=script&lang=js\"\n\nimport \"./Toast.vue?vue&type=style&index=0&id=f37fdc6a&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\连泽基\\\\毕业设计\\\\仿京东电商全栈代码\\\\项目\\\\前端代码\\\\dianshang-fe-by-Dell\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f37fdc6a\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar setArrayLength = require('../internals/array-set-length');\nvar doesNotExceedSafeInteger = require('../internals/does-not-exceed-safe-integer');\nvar fails = require('../internals/fails');\n\nvar INCORRECT_TO_LENGTH = fails(function () {\n  return [].push.call({ length: 0x100000000 }, 1) !== 4294967297;\n});\n\n// V8 <= 121 and Safari <= 15.4; FF < 23 throws InternalError\n// https://bugs.chromium.org/p/v8/issues/detail?id=12681\nvar properErrorOnNonWritableLength = function () {\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).push();\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n};\n\nvar FORCED = INCORRECT_TO_LENGTH || !properErrorOnNonWritableLength();\n\n// `Array.prototype.push` method\n// https://tc39.es/ecma262/#sec-array.prototype.push\n$({ target: 'Array', proto: true, arity: 1, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  push: function push(item) {\n    var O = toObject(this);\n    var len = lengthOfArrayLike(O);\n    var argCount = arguments.length;\n    doesNotExceedSafeInteger(len + argCount);\n    for (var i = 0; i < argCount; i++) {\n      O[len] = arguments[i];\n      len++;\n    }\n    setArrayLength(O, len);\n    return len;\n  }\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=37885e60&lang=scss&scoped=true\"","'use strict';\nvar $TypeError = TypeError;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF; // 2 ** 53 - 1 == 9007199254740991\n\nmodule.exports = function (it) {\n  if (it > MAX_SAFE_INTEGER) throw $TypeError('Maximum allowed index exceeded');\n  return it;\n};\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar isArray = require('../internals/is-array');\n\nvar $TypeError = TypeError;\n// eslint-disable-next-line es/no-object-getownpropertydescriptor -- safe\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n\n// Safari < 13 does not throw an error in this case\nvar SILENT_ON_NON_WRITABLE_LENGTH_SET = DESCRIPTORS && !function () {\n  // makes no sense without proper strict mode support\n  if (this !== undefined) return true;\n  try {\n    // eslint-disable-next-line es/no-object-defineproperty -- safe\n    Object.defineProperty([], 'length', { writable: false }).length = 1;\n  } catch (error) {\n    return error instanceof TypeError;\n  }\n}();\n\nmodule.exports = SILENT_ON_NON_WRITABLE_LENGTH_SET ? function (O, length) {\n  if (isArray(O) && !getOwnPropertyDescriptor(O, 'length').writable) {\n    throw new $TypeError('Cannot set read only .length');\n  } return O.length = length;\n} : function (O, length) {\n  return O.length = length;\n};\n","'use strict';\nvar classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.es/ecma262/#sec-isarray\n// eslint-disable-next-line es/no-array-isarray -- safe\nmodule.exports = Array.isArray || function isArray(argument) {\n  return classof(argument) === 'Array';\n};\n","<template>\n  <div class=\"wrapper\">\n    <img class=\"wrapper__img\" src=\"/user.png\" />\n    <div class=\"wrapper__input\">\n      <input\n        class=\"wrapper__input__content\"\n        placeholder=\"用户名\"\n        v-model=\"username\"\n      />\n    </div>\n    <div class=\"wrapper__input\">\n      <input\n        type=\"password\"\n        class=\"wrapper__input__content\"\n        placeholder=\"请输入密码\"\n        v-model=\"password\"\n        autocomplete=\"new-password\"\n      />\n    </div>\n    <div class=\"wrapper__login-button\" @click=\"handleLogin\">登陆</div>\n    <div class=\"wrapper__login-link\" @click=\"handleRegisterClick\">立即注册</div>\n    <Toast v-if=\"show\" :message=\"toastMessage\" />\n  </div>\n</template>\n\n<script>\nimport { reactive, toRefs } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { useUserStore } from \"../../store/useUserStore\";\nimport { post } from \"../../utils/request\";\nimport Toast, { useToastEffect } from \"../../components/Toast\";\n\n// 处理注册逻辑\nconst useLoginEffect = (showToast) => {\n  const router = useRouter();\n  const userStore = useUserStore();\n  const data = reactive({ username: \"\", password: \"\" });\n\n  const handleLogin = async () => {\n    try {\n      const result = await post(\"/api/user/login\", {\n        username: data.username,\n        password: data.password,\n      });\n      if (result?.errno === 0) {\n        console.log(result);\n        userStore.login(result.data.token, result.data.data);\n        router.push({ name: \"Home\" });\n      } else {\n        showToast(\"登陆失败\");\n      }\n    } catch (e) {\n      showToast(\"请求失败\");\n    }\n  };\n\n  const { username, password } = toRefs(data);\n  return { username, password, handleLogin };\n};\n\n// 处理注册跳转\nconst useRegisterEffect = () => {\n  const router = useRouter();\n  const handleRegisterClick = () => {\n    router.push({ name: \"Register\" });\n  };\n  return { handleRegisterClick };\n};\n\nexport default {\n  name: \"Login\",\n  components: { Toast },\n  // 职责就是告诉你，代码执行的一个流程\n  setup() {\n    const { show, toastMessage, showToast } = useToastEffect();\n    const { username, password, handleLogin } = useLoginEffect(showToast);\n    const { handleRegisterClick } = useRegisterEffect();\n\n    return {\n      username,\n      password,\n      show,\n      toastMessage,\n      handleLogin,\n      handleRegisterClick,\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../../style/viriables.scss\";\n\n.wrapper {\n  position: absolute;\n  top: 50%;\n  left: 0;\n  right: 0;\n  transform: translateY(-50%);\n\n  &__img {\n    display: block;\n    margin: 0 auto 0.4rem auto;\n    width: 0.66rem;\n    height: 0.66rem;\n  }\n\n  &__input {\n    height: 0.48rem;\n    margin: 0 0.4rem 0.16rem 0.4rem;\n    padding: 0 0.16rem;\n    background: #f9f9f9;\n    border: 0.01rem solid rgba(0, 0, 0, 0.1);\n    border-radius: 0.06rem;\n    border-radius: 0.06rem;\n\n    &__content {\n      margin-top: 0.12rem;\n      line-height: 0.22rem;\n      border: none;\n      outline: none;\n      width: 100%;\n      background: none;\n      font-size: 0.16rem;\n      color: $content-notice-fontcolor;\n\n      &::placeholder {\n        color: $content-notice-fontcolor;\n      }\n    }\n  }\n\n  &__login-button {\n    margin: 0.32rem 0.4rem 0.16rem 0.4rem;\n    line-height: 0.48rem;\n    background: #0091ff;\n    box-shadow: 0 0.04rem 0.08rem 0 rgba(0, 145, 255, 0.32);\n    border-radius: 0.04rem;\n    border-radius: 0.04rem;\n    color: $bgColor;\n    font-size: 0.16rem;\n    text-align: center;\n  }\n\n  &__login-link {\n    text-align: center;\n    font-size: 0.14rem;\n    color: $content-notice-fontcolor;\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=37885e60&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=37885e60&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\连泽基\\\\毕业设计\\\\仿京东电商全栈代码\\\\项目\\\\前端代码\\\\dianshang-fe-by-Dell\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-37885e60\"]])\n\nexport default __exports__"],"sourceRoot":""}