(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["upsertAddress"],{"19e9":function(e,t,a){"use strict";var c=a("506a"),s=a("b775");const o=()=>{const e=Object(c["a"])(),t=async t=>{const a=e.addressList;if(t||!a.length){var c;const t=await Object(s["b"])("/api/user/address");console.log(t),null!==t&&void 0!==t&&null!==(c=t.data)&&void 0!==c&&c.length&&e.changeAddressList(t.data)}};return{getAddressList:t}};t["a"]=o},4802:function(e,t,a){},8234:function(e,t,a){"use strict";a.r(t);var c=a("7a23");const s={class:"wrapper"},o={class:"title"},d={class:"title__text"},r={class:"form"},l={class:"form__item"},n={class:"form__item"},i={class:"form__item"},m={class:"form__item"},b={class:"form__item"};function u(e,t,a,u,_,p){return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",s,[Object(c["createElementVNode"])("div",o,[Object(c["createElementVNode"])("div",{class:"iconfont title__back",onClick:t[0]||(t[0]=(...e)=>u.handleBackClick&&u.handleBackClick(...e))},""),Object(c["createElementVNode"])("div",d,Object(c["toDisplayString"])(u.addressId?"编辑收货地址":"新建收货地址"),1),Object(c["createElementVNode"])("div",{class:"title__save",onClick:t[1]||(t[1]=(...e)=>u.upsertAddress&&u.upsertAddress(...e))},"保存")]),Object(c["createElementVNode"])("div",r,[Object(c["createElementVNode"])("div",l,[t[7]||(t[7]=Object(c["createElementVNode"])("div",{class:"form__item__label"},"所在城市:",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form__item__content",placeholder:"如北京市","onUpdate:modelValue":t[2]||(t[2]=e=>u.formData.city=e)},null,512),[[c["vModelText"],u.formData.city]])]),Object(c["createElementVNode"])("div",n,[t[8]||(t[8]=Object(c["createElementVNode"])("div",{class:"form__item__label"},"小区/大厦/学校:",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form__item__content",placeholder:"如理工大学国防科技园","onUpdate:modelValue":t[3]||(t[3]=e=>u.formData.department=e)},null,512),[[c["vModelText"],u.formData.department]])]),Object(c["createElementVNode"])("div",i,[t[9]||(t[9]=Object(c["createElementVNode"])("div",{class:"form__item__label"},"楼号-门牌号:",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form__item__content",placeholder:"A号楼B层","onUpdate:modelValue":t[4]||(t[4]=e=>u.formData.houseNumber=e)},null,512),[[c["vModelText"],u.formData.houseNumber]])]),Object(c["createElementVNode"])("div",m,[t[10]||(t[10]=Object(c["createElementVNode"])("div",{class:"form__item__label"},"收货人:",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form__item__content",placeholder:"请填写收货人的姓名","onUpdate:modelValue":t[5]||(t[5]=e=>u.formData.name=e)},null,512),[[c["vModelText"],u.formData.name]])]),Object(c["createElementVNode"])("div",b,[t[11]||(t[11]=Object(c["createElementVNode"])("div",{class:"form__item__label"},"联系电话:",-1)),Object(c["withDirectives"])(Object(c["createElementVNode"])("input",{class:"form__item__content",placeholder:"请填写收货手机号","onUpdate:modelValue":t[6]||(t[6]=e=>u.formData.phone=e)},null,512),[[c["vModelText"],u.formData.phone]])])])])}var _=a("506a"),p=a("6605"),v=a("b775"),f=a("19e9");const j=()=>{const e=Object(_["a"])(),t=Object(c["toRefs"])(e.addressList),{getAddressList:a}=Object(f["a"])();return a(),{addressList:t}},O=e=>{const t=Object(p["d"])(),a=Object(c["reactive"])({city:"",department:"",houseNumber:"",name:"",phone:""}),s=async()=>{const t=await Object(v["b"])("/api/user/address/"+e);if(0===(null===t||void 0===t?void 0:t.errno)&&null!==t&&void 0!==t&&t.data){const{city:e,department:c,houseNumber:s,name:o,phone:d}=t.data;a.city=e,a.department=c,a.houseNumber=s,a.name=o,a.phone=d}},o=async()=>{if(e){const c=await Object(v["c"])("/api/user/address/"+e,a);console.log(a),0===(null===c||void 0===c?void 0:c.errno)&&t.back()}else{const e=await Object(v["d"])("/api/user/address",a);0===(null===e||void 0===e?void 0:e.errno)&&t.back()}};return e&&s(),{formData:a,upsertAddress:o}};var h={name:"MyAddressList",setup(){var e;const t=Object(p["d"])(),a=Object(p["c"])(),c=null===a||void 0===a||null===(e=a.params)||void 0===e?void 0:e.id,{addressList:s}=j(),{formData:o,upsertAddress:d}=O(c),r=()=>{t.back()};return{addressId:c,addressList:s,formData:o,handleBackClick:r,upsertAddress:d}}},N=(a("ff5a"),a("6b0d")),V=a.n(N);const E=V()(h,[["render",u],["__scopeId","data-v-4e5ca5aa"]]);t["default"]=E},ff5a:function(e,t,a){"use strict";a("4802")}}]);
//# sourceMappingURL=upsertAddress.e5531edc.js.map