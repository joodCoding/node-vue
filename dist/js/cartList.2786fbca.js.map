{"version":3,"sources":["webpack:///./src/store/useCartStore.js","webpack:///./src/components/Docker.vue?1160","webpack:///./src/components/Docker.vue","webpack:///./src/components/Docker.vue?bcba","webpack:///./src/views/cartList/CartList.vue","webpack:///./src/views/cartList/CartList.vue?52ec","webpack:///./src/views/cartList/CartList.vue?4303"],"names":["setLocalCartList","cartList","cartListString","JSON","stringify","localStorage","getLocaCartList","parse","e","useCartStore","defineStore","state","actions","changeCartItemInfo","payload","shopId","productId","productInfo","num","shopInfo","this","shopName","productList","product","count","check","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key","clearCartData","class","_createElementBlock","_hoisted_1","_Fragment","_renderList","$setup","dockerList","item","index","_normalizeClass","$props","currentIndex","icon","_createVNode","_component_router_link","to","_createElementVNode","innerHTML","_hoisted_3","_toDisplayString","text","name","props","setup","__exports__","render","_hoisted_2","Object","keys","cartListWithProducts","length","_hoisted_4","_hoisted_5","_hoisted_6","id","_hoisted_7","src","imgUrl","_hoisted_9","_hoisted_10","_hoisted_11","price","_hoisted_12","toFixed","_component_Docker","useCartEffect","cartStore","computed","newCartList","total","components","Docker"],"mappings":"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","file":"js/cartList.2786fbca.js","sourcesContent":["import { defineStore } from \"pinia\";\r\n\r\nconst setLocalCartList = cartList => {\r\n  const cartListString = JSON.stringify(cartList);\r\n  localStorage.cartList = cartListString;\r\n};\r\n\r\nconst getLocaCartList = () => {\r\n  try {\r\n    return JSON.parse(localStorage.cartList);\r\n  } catch (e) {\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const useCartStore = defineStore(\"cart\", {\r\n  state: () => ({\r\n    cartList: { ...getLocaCartList() }\r\n  }),\r\n  actions: {\r\n    changeCartItemInfo(payload) {\r\n      const { shopId, productId, productInfo, num } = payload;\r\n      let shopInfo = this.cartList[shopId] || {\r\n        shopName: \"\",\r\n        productList: {}\r\n      };\r\n      let product = shopInfo.productList[productId];\r\n      if (!product) {\r\n        productInfo.count = 0;\r\n        product = productInfo;\r\n      }\r\n      product.count = product.count + num;\r\n      if (num > 0) {\r\n        product.check = true;\r\n      }\r\n      if (product.count < 0) {\r\n        product.count = 0;\r\n      }\r\n      shopInfo.productList[productId] = product;\r\n      this.cartList[shopId] = shopInfo;\r\n      setLocalCartList(this.cartList);\r\n    },\r\n    changeShopName(payload) {\r\n      const { shopId, shopName } = payload;\r\n      const shopInfo = this.cartList[shopId] || {\r\n        shopName: \"\",\r\n        productList: {}\r\n      };\r\n      shopInfo.shopName = shopName;\r\n      this.cartList[shopId] = shopInfo;\r\n      setLocalCartList(this.cartList);\r\n    },\r\n    changeCartItemChecked(payload) {\r\n      const { shopId, productId } = payload;\r\n      const product = this.cartList[shopId].productList[productId];\r\n      product.check = !product.check;\r\n      setLocalCartList(this.cartList);\r\n    },\r\n    cleanCartProducts(shopId) {\r\n      this.cartList[shopId].productList = {};\r\n      setLocalCartList(this.cartList);\r\n    },\r\n    setCartItemsChecked(shopId) {\r\n      const products = this.cartList[shopId].productList;\r\n      if (products) {\r\n        for (let key in products) {\r\n          const product = products[key];\r\n          product.check = true;\r\n        }\r\n      }\r\n      setLocalCartList(this.cartList);\r\n    },\r\n    clearCartData(shopId) {\r\n      this.cartList[shopId].productList = {};\r\n      setLocalCartList(this.cartList);\r\n    }\r\n  }\r\n});\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Docker.vue?vue&type=style&index=0&id=35ff7262&lang=scss&scoped=true\"","<template>\n  <div class=\"docker\">\n    <div\n      v-for=\"(item, index) in dockerList\"\n      :class=\"{'docker__item': true, 'docker__item--active': index === currentIndex}\"\n      :key=\"item.icon\"\n    >\n      <router-link :to='item.to'>\n        <div class=\"iconfont\" v-html=\"item.icon\" />\n        <div class=\"docker__title\">{{item.text}}</div>\n      </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Docker',\n  props: ['currentIndex'],\n  setup() {\n    const dockerList = [\n      {icon: '&#xe6f3;', text: '首页', to: {name: 'Home'}},\n      {icon: '&#xe7e5;', text: '购物车', to: {name: 'CartList'}},\n      {icon: '&#xe61e;', text: '订单', to: {name: 'OrderList'}},\n      {icon: '&#xe660;', text: '我的', to: {name: 'PersonalInfo'}},\n    ];\n    return { dockerList }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../style/viriables.scss';\n.docker {\n  display: flex;\n  box-sizing: border-box;\n  position: absolute;\n  padding: 0 .18rem;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  height: .49rem;\n  border-top: .01rem solid $content-bgColor;\n  &__item {\n    flex: 1;\n    text-align: center;\n    a {\n      color: $content-fontcolor;\n      text-decoration: none;\n    }\n    .iconfont {\n      margin: .07rem 0 .02rem 0;\n      font-size: .18rem;\n    }\n    &--active {\n      a {\n        color: #1FA4FC;\n      }\n    }\n  }\n  &__title {\n    font-size: .2rem;\n    transform: scale(.5, .5);\n    transform-origin: center top;\n  }\n}\n</style>\n","import { render } from \"./Docker.vue?vue&type=template&id=35ff7262&scoped=true\"\nimport script from \"./Docker.vue?vue&type=script&lang=js\"\nexport * from \"./Docker.vue?vue&type=script&lang=js\"\n\nimport \"./Docker.vue?vue&type=style&index=0&id=35ff7262&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\连泽基\\\\毕业设计\\\\仿京东电商全栈代码\\\\项目\\\\前端代码\\\\dianshang-fe-by-Dell\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35ff7262\"]])\n\nexport default __exports__","<template>\n  <div class=\"wrapper\">\n    <div class=\"title\">我的全部购物车</div>\n    <div class=\"shops\">\n      <div class=\"empty\" v-if=\"Object.keys(cartListWithProducts).length === 0\">购物车当前为空</div>\n      <div class=\"shop\" v-for=\"(item, index) in cartListWithProducts\" :key=\"index\">\n        <div class=\"shop__title\">\n          {{ item.shopName }}\n        </div>\n        <div class=\"products\">\n          <div class=\"products__list\">\n            <template v-for=\"product in item.productList\" :key=\"product.id\">\n              <div v-if=\"product.count > 0\" class=\"products__item\">\n                <img class=\"products__item__img\" :src=\"product.imgUrl\" />\n                <div class=\"products__item__detail\">\n                  <h4 class=\"products__item__title\">{{ product.name }}</h4>\n                  <p class=\"products__item__price\">\n                    <span>\n                      <span class=\"products__item__yen\">&yen; </span>\n                      {{ product.price }} x {{ product.count }}\n                    </span>\n                    <span class=\"products__item__total\">\n                      <span class=\"products__item__yen\">&yen; </span>\n                      {{ (product.price * product.count).toFixed(2) }}\n                    </span>\n                  </p>\n                </div>\n              </div>\n            </template>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <Docker :currentIndex=\"1\" />\n</template>\n\n<script>\nimport { computed } from 'vue'\nimport { useCartStore } from '../../store/useCartStore'\nimport Docker from '../../components/Docker'\n\nconst useCartEffect = () => {\n  const cartStore = useCartStore()\n  const cartList = cartStore.cartList;\n\n  const cartListWithProducts = computed(() => {\n    const newCartList = {};\n    for (let shopId in cartList) {\n      let total = 0\n      const products = cartList[shopId].productList\n      for (let productId in products) {\n        const product = products[productId]\n        total += (product.count || 0)\n      }\n      if (total > 0) {\n        newCartList[shopId] = cartList[shopId]\n      }\n    }\n    return newCartList;\n  })\n\n  return { cartListWithProducts }\n}\nexport default {\n  name: 'CartList',\n  components: { Docker },\n  setup () {\n    const { cartListWithProducts } = useCartEffect()\n    return { cartListWithProducts }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n\n.wrapper {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: .5rem;\n  right: 0;\n  background: $dark-bgColor;\n}\n\n.title {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n  line-height: .44rem;\n  background: $bgColor;\n  font-size: .16rem;\n  color: $content-fontcolor;\n  text-align: center;\n}\n\n.empty {\n  line-height: .44rem;\n  color: $light-fontColor;\n  font-size: .16rem;\n  text-align: center;\n}\n\n.shops {\n  overflow-y: scroll;\n  position: absolute;\n  top: .6rem;\n  right: .18rem;\n  bottom: .1rem;\n  left: .18rem;\n  background: $bgColor;\n}\n\n.shop {\n  &__title {\n    padding: .16rem;\n    font-size: .16rem;\n    color: $content-fontcolor;\n  }\n\n  &__wrapper {\n    overflow-y: scroll;\n    margin: 0 .18rem;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: .6rem;\n    top: 2.6rem;\n  }\n}\n\n.products {\n  &__list {\n    background: $bgColor;\n  }\n\n  &__item {\n    position: relative;\n    display: flex;\n    padding: 0 .16rem 0.16rem .16rem;\n\n    &__img {\n      width: .46rem;\n      height: .46rem;\n      margin-right: .16rem;\n    }\n\n    &__detail {\n      flex: 1;\n    }\n\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n\n    &__price {\n      display: flex;\n      margin: .06rem 0 0 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n\n    &__total {\n      flex: 1;\n      text-align: right;\n      color: $dark-fontColor;\n    }\n\n    &__yen {\n      font-size: .12rem;\n    }\n  }\n}\n</style>","import { render } from \"./CartList.vue?vue&type=template&id=1dd2d9c6&scoped=true\"\nimport script from \"./CartList.vue?vue&type=script&lang=js\"\nexport * from \"./CartList.vue?vue&type=script&lang=js\"\n\nimport \"./CartList.vue?vue&type=style&index=0&id=1dd2d9c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"E:\\\\连泽基\\\\毕业设计\\\\仿京东电商全栈代码\\\\项目\\\\前端代码\\\\dianshang-fe-by-Dell\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1dd2d9c6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./CartList.vue?vue&type=style&index=0&id=1dd2d9c6&lang=scss&scoped=true\""],"sourceRoot":""}