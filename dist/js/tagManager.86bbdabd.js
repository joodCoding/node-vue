(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["tagManager"],{"14d9":function(e,t,a){"use strict";var c=a("23e7"),r=a("7b0b"),o=a("07fa"),n=a("3a34"),l=a("3511"),s=a("d039"),i=s((function(){return 4294967297!==[].push.call({length:4294967296},1)})),b=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},u=i||!b();c({target:"Array",proto:!0,arity:1,forced:u},{push:function(e){var t=r(this),a=o(t),c=arguments.length;l(a+c);for(var s=0;s<c;s++)t[a]=arguments[s],a++;return n(t,a),a}})},"340b":function(e,t,a){"use strict";a("a353")},3511:function(e,t,a){"use strict";var c=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw c("Maximum allowed index exceeded");return e}},"3a34":function(e,t,a){"use strict";var c=a("83ab"),r=a("e8b5"),o=TypeError,n=Object.getOwnPropertyDescriptor,l=c&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,t){if(r(e)&&!n(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"81ba":function(e,t,a){"use strict";a.r(t);a("14d9");var c=a("7a23"),r=a("b775"),o=a("3ef4"),n=a("6605");const l={class:"tag-manager-container"},s={class:"card-header"},i={class:"existing-tags-section"},b={class:"tags-wrapper"};var u={__name:"TagManager",setup(e){const t=Object(c["ref"])(""),a=Object(c["ref"])(""),u=Object(n["c"])().params.id,d=Object(c["ref"])([]),p=Object(n["d"])();Object(c["onMounted"])(async()=>{try{const e=await Object(r["b"])("api/shop/"+u);0===(null===e||void 0===e?void 0:e.errno)&&null!==e&&void 0!==e&&e.data&&(d.value=e.data.tabs)}catch(e){o["a"].error(e.message||"获取店铺信息失败")}});const O=async()=>{if(t.value.trim()&&a.value.trim()){const c=t.value.trim(),n=a.value.trim();try{d.value.push({name:c,tab:n});const e=await Object(r["c"])(`/api/shop/${u}/tabs`,{tabs:d.value});0===e.errno?(t.value="",a.value="",o["a"].success("标签添加成功")):(d.value.pop(),o["a"].error(e.message||"标签添加失败"))}catch(e){d.value.pop(),o["a"].error("添加标签失败: "+e.message)}}else o["a"].warning("标签名称和标签值不能为空")},j=async e=>{d.value.splice(d.value.indexOf(e),1);try{const e=await Object(r["c"])(`/api/shop/${u}/tabs`,{tabs:d.value});0===e.errno?o["a"].success("标签删除成功"):(d.value.pop(),o["a"].error(e.message||"标签删除失败"))}catch(t){o["a"].error("标签删除失败: "+t.message)}},m=()=>{p.back()};return(e,r)=>{const o=Object(c["resolveComponent"])("el-button"),n=Object(c["resolveComponent"])("el-input"),u=Object(c["resolveComponent"])("el-form-item"),p=Object(c["resolveComponent"])("el-form"),v=Object(c["resolveComponent"])("el-divider"),f=Object(c["resolveComponent"])("el-tag"),h=Object(c["resolveComponent"])("el-empty"),g=Object(c["resolveComponent"])("el-card");return Object(c["openBlock"])(),Object(c["createElementBlock"])("div",l,[Object(c["createVNode"])(g,{class:"box-card"},{header:Object(c["withCtx"])(()=>[Object(c["createElementVNode"])("div",s,[r[3]||(r[3]=Object(c["createElementVNode"])("span",null,"标签管理",-1)),Object(c["createVNode"])(o,{onClick:m},{default:Object(c["withCtx"])(()=>r[2]||(r[2]=[Object(c["createTextVNode"])("返回")])),_:1,__:[2]})])]),default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(p,{inline:!0,class:"tag-input-form"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(u,{label:"标签名称"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(n,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=e=>t.value=e),placeholder:"请输入标签名称",clearable:""},null,8,["modelValue"])]),_:1}),Object(c["createVNode"])(u,{label:"标签值"},{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(n,{modelValue:a.value,"onUpdate:modelValue":r[1]||(r[1]=e=>a.value=e),placeholder:"请输入标签值",clearable:""},null,8,["modelValue"])]),_:1}),Object(c["createVNode"])(u,null,{default:Object(c["withCtx"])(()=>[Object(c["createVNode"])(o,{type:"primary",onClick:O},{default:Object(c["withCtx"])(()=>r[4]||(r[4]=[Object(c["createTextVNode"])("添加标签")])),_:1,__:[4]})]),_:1})]),_:1}),Object(c["createVNode"])(v),Object(c["createElementVNode"])("div",i,[r[5]||(r[5]=Object(c["createElementVNode"])("h2",null,"现有标签:",-1)),Object(c["createElementVNode"])("div",b,[(Object(c["openBlock"])(!0),Object(c["createElementBlock"])(c["Fragment"],null,Object(c["renderList"])(d.value,e=>(Object(c["openBlock"])(),Object(c["createBlock"])(f,{key:e.name+e.tab,closable:"","disable-transitions":!1,onClose:t=>j(e),class:"custom-tag"},{default:Object(c["withCtx"])(()=>[Object(c["createTextVNode"])(Object(c["toDisplayString"])(e.name)+":"+Object(c["toDisplayString"])(e.tab),1)]),_:2},1032,["onClose"]))),128)),0===d.value.length?(Object(c["openBlock"])(),Object(c["createBlock"])(h,{key:0,description:"暂无标签"})):Object(c["createCommentVNode"])("",!0)])])]),_:1})])}}},d=(a("340b"),a("6b0d")),p=a.n(d);const O=p()(u,[["__scopeId","data-v-41e99292"]]);t["default"]=O},a353:function(e,t,a){},e8b5:function(e,t,a){"use strict";var c=a("c6b6");e.exports=Array.isArray||function(e){return"Array"===c(e)}}}]);
//# sourceMappingURL=tagManager.86bbdabd.js.map